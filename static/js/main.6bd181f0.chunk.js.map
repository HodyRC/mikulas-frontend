{"version":3,"sources":["components/Heading.jsx","components/Footer.jsx","config.js","App.js","components/Menu.jsx","pages/Home.jsx","pages/Reservation.jsx","pages/Feedback.jsx","components/Poster.jsx","reportWebVitals.js","index.js"],"names":["Heading","props","className","title","Footer","href","target","rel","config","api","url","getSessionFromBackend","a","fetch","response","json","console","error","App","global","session","state","loading","this","setState","animation","role","variant","React","Component","refreshPage","location","reload","Menu","navLinks","activeClassName","exact","to","user","permissions","includes","unshift","path","component","Home","Reservation","Feedback","Poster","ReservationForm","heading","year","err","reservations","moment","diff","end","Row","xs","lg","Group","controlId","Label","Control","type","placeholder","Text","min","handleSubmit","bind","event","method","headers","body","JSON","stringify","email","value","text","result","status","onSubmit","name","as","rows","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6bd181f0.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function Heading (props) {\n  return (\n    <>\n      <h1 className='cover-heading'>\n        {props.title}\n      </h1>\n    </>\n  )\n}\n","function Footer () {\n  return (\n    <footer className='mastfoot mt-auto'>\n      <div className='inner '>\n        <p>Copyright &copy; 2018 - 2020<br />\n          <a href='//lukasmatuska.cz' target='_blank' rel='noopener noreferrer'>Lukáš&nbsp;Matuška</a>\n          &nbsp;pro&nbsp;\n          <a href='//rudickamladez.cz' target='_blank' rel='noopener noreferrer'>Rudickou&nbsp;mládež</a>\n        </p>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer\n","function config () {\n  return ({\n    api: {\n      url: 'https://mikulas.rudickamladez.cz/api/'\n    }\n  })\n}\n\nexport default config()\n","import React from 'react'\nimport { Container, Spinner } from 'react-bootstrap'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './assets/css/animations.css'\nimport './assets/css/cover.css'\nimport './assets/css/font_raleway.css'\nimport './assets/css/style.css'\nimport Menu from './components/Menu'\nimport Footer from './components/Footer'\nimport config from './config'\n\nasync function getSessionFromBackend() {\n  try {\n    const response = await fetch(config.api.url + 'session')\n    return await response.json()\n  } catch (err) {\n    console.error(err)\n    return null\n  }\n}\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props)\n    global.config = config\n    global.session = null\n    this.state = {\n      loading: true\n    }\n  }\n\n  async componentDidMount() {\n    let session = await getSessionFromBackend()\n    global.session = session\n    if (global.session !== null) {\n      this.setState({ loading: false })\n    }\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className='d-flex flex-column text-center'>\n          <div className='d-flex flex-column w-100 min-vh-100 p-3 mx-auto'>\n            <header className='masthead m-auto mb-5'>\n              <div className='inner'>\n                <h1 className='masthead-brand'>Mikulášské odpoledne</h1>\n              </div>\n            </header>\n            <Container className='flex-grow-1 d-flex flex-column w-100 p-3 mx-auto'>\n              <Spinner animation='border' role='status' variant='light' className='m-auto'>\n                <span className='sr-only'>Načítání ...</span>\n              </Spinner>\n            </Container>\n            <Footer />\n          </div>\n        </div>\n      )\n    }\n\n    return (\n      <div className='d-flex flex-column text-center'>\n        <div className='d-flex flex-column w-100 min-vh-100 p-3 mx-auto'>\n          <Menu />\n          <Footer />\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Route, BrowserRouter as Router, NavLink } from 'react-router-dom'\nimport Home from '../pages/Home'\nimport Reservation from '../pages/Reservation'\nimport Feedback from '../pages/Feedback'\nimport Poster from './Poster'\n\nfunction refreshPage() {\n  global.location.reload()\n}\n\nexport default function Menu() {\n  let navLinks = [\n    <NavLink key='1' className='nav-link' activeClassName='active' exact to='/'>Domů</NavLink>,\n    <NavLink key='2' className='nav-link' activeClassName='active' to='/reservation'>Rezervace</NavLink>,\n    <NavLink key='3' className='nav-link' activeClassName='active' to='/feedback'>Zpětná vazba</NavLink>,\n    <NavLink key='4' className='nav-link' activeClassName='active' to='/poster'>Plakát</NavLink>,\n  ]\n\n  if (global.session.user) {\n    if (\n      global.session.user.permissions.includes('admin') ||\n      global.session.user.permissions.includes('masterAdmin')\n    ) {\n      navLinks.unshift(<NavLink key='0' className='nav-link' activeClassName='active' to='/admin'>Administrace</NavLink>)\n    }\n  }\n\n  return (\n    <Router>\n      <header className='masthead mb-auto'>\n        <div className='inner'>\n          <h3 className='masthead-brand'>Mikulášské odpoledne</h3>\n          <nav className='nav nav-masthead justify-content-center'>\n            {navLinks}\n          </nav>\n        </div>\n      </header>\n      <main role='main' className='inner cover'>\n        <Route path='/' exact component={Home} />\n        <Route path='/reservation' exact component={Reservation} />\n        <Route path='/feedback' exact component={Feedback} />\n        <Route path='/poster' exact component={Poster} />\n        <Route path='/admin' component={refreshPage} />\n      </main>\n    </Router>\n  )\n}\n","function Home () {\n  return (\n    <main role='main' className='inner cover'>\n      <h1 className='cover-heading title'>Mikulášské odpoledne</h1>\n      <span className='underline-animation' />\n      <div className='fade-down'>\n        <p className='lead description'>Zarezervujte si svoje lístky ještě dnes.</p>\n      </div>\n    </main>\n  )\n}\n\nexport default Home\n","import React from 'react'\nimport { Alert, Container, Col, Spinner, Form, Button } from 'react-bootstrap'\nimport moment from 'moment'\nimport Heading from '../components/Heading'\n\nexport default class ReservationForm extends React.Component {\n  constructor (props) {\n    super(props)\n    this.heading = <Heading title='Rezervace' />\n    this.state = {\n      loading: true\n    }\n  }\n\n   async componentDidMount () {\n    try {\n      this.setState({ loading: false, year: global.session.year })\n    } catch (err) {\n      this.setState({ loading: false, error: err })\n    }\n  }\n\n  render () {\n    if (this.state.loading) {\n      return (\n        <Container>\n          <Spinner animation='border' role='status' variant='light'>\n            <span className='sr-only'>Načítání ...</span>\n          </Spinner>\n        </Container>\n      )\n    }\n\n    if (this.state.error) {\n      return (\n        <Container>\n          {this.heading}\n          <Alert variant='danger'>\n            <b>Ouha!</b> Nepodařilo se spojit se serverem, tudíž nelze vytvářet rezervace.\n          </Alert>\n        </Container>\n      )\n    }\n\n    if (!this.state.year) {\n      return (\n        <Container>\n          {this.heading}\n          <Alert variant='danger'>\n            <b>Chyba!</b> Nepodařilo se dostat data ohledně ročníku ze serveru, tudíž nelze vytvářet rezervace.\n          </Alert>\n        </Container>\n      )\n    }\n\n    if (!this.state.year.reservations) {\n      return (\n        <Container>\n          {this.heading}\n          <Alert variant='danger'>\n            <b>Chyba!</b> Nepodařilo se dostat data ohledně rezervací ze serveru, tudíž nelze vytvářet rezervace.\n          </Alert>\n        </Container>\n      )\n    }\n\n    if (moment().diff(this.state.year.reservations.end) >= 0) {\n      return (\n        <Container>\n          {this.heading}\n          <p className='lead'>jsou již uzavřeny.</p>\n        </Container>\n      )\n    }\n\n    return (\n      <Container>\n        {this.heading}\n        <p className='lead'>Pro vytvoření rezervace vyplňte následující formulář</p>\n        <Form>\n          <Form.Row>\n            <Col xs={12} lg={6}>\n              <Form.Group controlId='firstname'>\n                <Form.Label>Křestní jméno</Form.Label>\n                <Form.Control type='text' placeholder='František' />\n                <Form.Text className='text-white'>\n                  Sem prosím vložte křestní jméno doprovodu\n                </Form.Text>\n              </Form.Group>\n            </Col>\n            <Col xs={12} lg={6}>\n              <Form.Group controlId='lastname'>\n                <Form.Label>Příjmení</Form.Label>\n                <Form.Control type='text' placeholder='Voprcálek' />\n                <Form.Text className='text-white'>\n                  Sem prosím vložte příjmení doprovodu\n                </Form.Text>\n              </Form.Group>\n            </Col>\n          </Form.Row>\n          <Form.Row>\n            <Col xs={12} lg={6}>\n              <Form.Group controlId='countOfKids'>\n                <Form.Label>Počet dětí</Form.Label>\n                <Form.Control type='number' placeholder='2' min='1' />\n                <Form.Text className='text-white'>\n                  Zde prosím vložte Váš počet dětí\n                </Form.Text>\n              </Form.Group>\n            </Col>\n            <Col xs={12} lg={6}>\n              <Form.Group controlId='countOfAdults'>\n                <Form.Label>Počet dospělých</Form.Label>\n                <Form.Control type='number' placeholder='1' min='0' />\n                <Form.Text className='text-white'>\n                  Zde prosím napište počet dospělých\n                </Form.Text>\n              </Form.Group>\n            </Col>\n          </Form.Row>\n          <Form.Group controlId='email'>\n            <Form.Label>Email</Form.Label>\n            <Form.Control type='email' placeholder='frantikova.maminka@gmail.com' />\n            <Form.Text className='text-white'>\n              Sem prosím vložte Vaši emailovou adresu\n            </Form.Text>\n          </Form.Group>\n          <Form.Group>\n            <Button variant='secondary' type='submit'>\n              Odeslat\n            </Button>\n          </Form.Group>\n          <Form.Group>\n            <p className='mb-0'>\n              V případě problémů nás kontaktujte na emailu&nbsp;\n              <a href='mailto:mikulas@rudickamladez.cz'>mikulas@rudickamladez.cz</a>\n            </p>\n            <p className='mt-0'>\n              Údaje poskytnuté v&nbsp;rámci rezervace budou použity jen pro&nbsp;účely této akce.\n            </p>\n          </Form.Group>\n        </Form>\n      </Container>\n    )\n  }\n}\n","import React from 'react'\nimport { Alert, Container, Spinner, Form, Button } from 'react-bootstrap'\nimport Heading from '../components/Heading'\n\nexport default class Feedback extends React.Component {\n  constructor(props) {\n    super(props)\n    this.heading = <Heading title='Zpětná vazba' />\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.state = {\n      loading: true,\n      year: null\n    }\n  }\n\n  async componentDidMount() {\n    try {\n      this.setState({ loading: false, year: global.session.year })\n    } catch (err) {\n      this.setState({ loading: false, error: err })\n    }\n  }\n\n  async handleSubmit(event) {\n    this.setState({ loading: true })\n    try {\n      const response = await fetch(global.config.api.url + 'feedback', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          email: event.target[0].value,\n          text: event.target[1].value\n        })\n      })\n      const result = await response.json()\n      this.setState({ loading: false, status: result.status })\n    } catch (err) {\n      this.setState({ loading: false, error: err })\n    }\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <Container>\n          <Spinner animation='border' role='status' variant='light'>\n            <span className='sr-only'>Načítání ...</span>\n          </Spinner>\n        </Container>\n      )\n    }\n\n    if (this.state.error) {\n      return (\n        <Container>\n          {this.heading}\n          <Alert variant='danger'>\n            <b>Ouha!</b> Nepodařilo se spojit se serverem, tudíž nelze vytvářet zpětné vazby.\n          </Alert>\n        </Container>\n      )\n    }\n\n    if (!this.state.year) {\n      return (\n        <Container>\n          {this.heading}\n          <Alert variant='danger'>\n            <b>Chyba!</b> Nepodařilo se dostat data ohledně ročníku ze serveru\n          </Alert>\n        </Container>\n      )\n    }\n\n    if (this.state.status === 'ok') {\n      return (\n        <Container>\n          {this.heading}\n          <Alert variant='success'>\n            <b>Děkujeme</b> za vaši zpětnou vazbu!\n          </Alert>\n        </Container>\n      )\n    }\n\n    return (\n      <Container>\n        {this.heading}\n        <p className='lead'>Pro vytvoření zpětné vazby vyplňte následující formulář</p>\n        <Form onSubmit={this.handleSubmit}>\n          <Form.Group controlId='email'>\n            <Form.Label>Email</Form.Label>\n            <Form.Control type='email' name='email' placeholder='frantiskova.maminka@gmail.com' />\n            <Form.Text className='text-white'>\n              Sem prosím vložte Vaši emailovou adresu\n            </Form.Text>\n          </Form.Group>\n          <Form.Group controlId='feedback'>\n            <Form.Label>Zpětná vazba</Form.Label>\n            <Form.Control as='textarea' name='text' placeholder='Zde se prosím Vás rozepište' rows={3} />\n          </Form.Group>\n          <Form.Group>\n            <Button variant='secondary' type='submit'>\n              Odeslat\n            </Button>\n          </Form.Group>\n          <Form.Group>\n            <p className='mb-0'>\n              V případě problémů nás kontaktujte na emailu&nbsp;\n              <a href='mailto:mikulas@rudickamladez.cz'>mikulas@rudickamladez.cz</a>\n            </p>\n            <p className='mt-0'>\n              Údaje poskytnuté v&nbsp;rámci rezervace budou použity jen pro&nbsp;účely této akce.\n            </p>\n          </Form.Group>\n        </Form>\n      </Container>\n    )\n  }\n}\n","import React from 'react'\nimport Heading from './Heading'\n\nexport default function Poster () {\n  return (\n    <>\n      <Heading title='Plakát' />\n      <p className='lead'>Ještě není hotový</p>\n    </>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}